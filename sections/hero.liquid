{% if section.settings.image1 != blank %}
  <link rel="preload" as="image" href="{{ section.settings.image1 | image_url }}">
{% else %}
  <link rel="preload" as="image" href="{{ 'shoe8.jpg' | asset_url }}">
{% endif %}

{% if section.settings.image2 != blank %}
  <link rel="preload" as="image" href="{{ section.settings.image2 | image_url }}">
{% else %}
  <link rel="preload" as="image" href="{{ 'shoes.jpg' | asset_url }}">
{% endif %}

{% if section.settings.image3 != blank %}
  <link rel="preload" as="image" href="{{ section.settings.image3 | image_url }}">
{% else %}
  <link rel="preload" as="image" href="{{ 'shoe16.jpg' | asset_url }}">
{% endif %}

<link rel="preload" as="image" href="{{ 'MainLogo_png.svg' | asset_url }}">


<section class="hero text-center" aria-label="home" id="home">
    <ul class="hero-slider" data-hero-slider>
      <li class="slider-item active" data-hero-slider-item>
        {% if section.settings.image1 != blank %}
          <div class="slider-bg hero-card has-bg-image" style="background-image: url('{{ section.settings.image1 | image_url}}'); background-attachment: fixed; background-size: cover; background-repeat: no-repeat; background-attachment: fixed; background-position: center;">
          </div> 
         {% else %}
         <div class="slider-bg hero-card has-bg-image" style="background-image: url('{{ 'shoe8.jpg' | asset_url }}'); background-attachment: fixed; background-size: cover; background-repeat: no-repeat; background-attachment: fixed; background-position: center;">
         </div>   
        {% endif %} 
        <div class="card-content">
           <h1 class="h1 hero-title slider-reveal">
            {{ section.settings.title1 }}<br/>
            {{ section.settings.subtitle1 }}
           </h1>
           <p class="hero-text slider-reveal">
            {{ section.settings.description1}}
           </p>
            <p class="price slider-reveal"> Starting at {{section.settings.price1}}</p>
            <a {% if section.settings.link %}
              href="{{ section.settings.link }}"
            {% else %}
              role="link" aria-disabled="true"
            {% endif %}
           class="btn btn-primary slider-reveal">{{section.settings.btn_label}}</a>
         </div>

      </li>
      <li class="slider-item " data-hero-slider-item>
        {% if section.settings.image2 != blank %}
          <div class="slider-bg hero-card has-bg-image" style="background-image: url('{{ section.settings.image2 | image_url }}'); background-attachment: fixed; background-size: cover; background-repeat: no-repeat; background-attachment: fixed; background-position: center;">
          </div>    
         {% else %}
         <div class="slider-bg hero-card has-bg-image" style="background-image: url('{{ 'shoes.jpg' | asset_url }}'); background-attachment: fixed; background-size: cover; background-repeat: no-repeat; background-attachment: fixed; background-position: center;">
         </div>   
        {% endif %} 
        <div class="card-content">
          <h1 class="h1 hero-title slider-reveal">
            {{ section.settings.title2 }}<br/>
            {{ section.settings.subtitle2 }}
          </h1>
          <p class="hero-text slider-reveal">
            {{ section.settings.description2}}
          </p>
          <p class="price slider-reveal"> Starting at {{section.settings.price2 }}</p>
          <a {% if section.settings.link %}
            href="{{ section.settings.link }}"
          {% else %}
            role="link" aria-disabled="true"
          {% endif %}
         class="btn btn-primary slider-reveal">{{section.settings.btn_label}}</a>
        </div>
      </li>
      <li class="slider-item" data-hero-slider-item>
        {% if section.settings.image3 != blank %}
          <div class="slider-bg hero-card has-bg-image" style="background-image: url('{{ section.settings.image3 | image_url }}'); background-attachment: fixed; background-size: cover; background-repeat: no-repeat; background-attachment: fixed; background-position: center;">
          </div>    
         {% else %}
         <div class="slider-bg hero-card has-bg-image" style="background-image: url('{{ 'shoe16.jpg' | asset_url }}'); background-attachment: fixed; background-size: cover; background-repeat: no-repeat; background-attachment: fixed; background-position: center;">
         </div>   
        {% endif %} 
      <div class="card-content">
        <h1 class="h1 hero-title slider-reveal">
          {{ section.settings.title3 }}<br/>
          {{ section.settings.subtitle3 }}
         </h1>
         <p class="hero-text slider-reveal">
          {{ section.settings.description3}}
         </p>
         <p class="price slider-reveal"> Starting at {{section.settings.price3 }}</p>
         <div style="display: flex; justify-content: flex-start;">
          <a {% if section.settings.link %}
            href="{{ section.settings.link }}"
          {% else %}
            role="link" aria-disabled="true"
          {% endif %}
         class="btn btn-primary slider-reveal">{{section.settings.btn_label}}</a>
        </div>

      </div>
      </li>
    </ul>

    <button class="slider-btn prev" aria-label="slide to previous" data-prev-btn>
    <ion-icon name="chevron-back"></ion-icon>
   </button>

   <button class="slider-btn next" aria-label="slide to next" data-next-btn>
    <ion-icon name="chevron-forward"></ion-icon>
   </button>


</section>
 

<style>
  .card-content .btn {
    align-self: start; /* Explicitly aligns the button to the start */
}

</style>

<script>
// Put your applicaiton javascript here
'use strict';
/**Modal toggle */

//Open close modal
function openModal() {
  document.getElementById('myModal').style.display = 'flex';
}

function openCart() {
  document.getElementById('myModal2').style.display = 'flex';
}

function toggleForm(formToShow){
const login=document.getElementById('login')
const register=document.getElementById('register')



if(formToShow === 'register'){
  login.classList.add('hidden')
  register.classList.remove('hidden')
}else {
  login.classList.remove('hidden')
  register.classList.add('hidden')
}
}


// Function to close the modal
function closeModal() {
  document.getElementById('myModal').style.display = 'none';
}


// Function to close the cart
function closeCartbar() {
  document.getElementById('myModal2').style.display = 'none';
}

// Close the modal if the overlay (background) is clicked
window.onclick = function(event) {
  if (event.target === document.getElementById('myModal')) {
      closeModal();
  }
};







/**add event on element */


const addEventOnElem = function (elem, type, callback) {
  if (!elem) {
    return;
  }
  
  if (elem.length > 1) {
    for (let i = 0; i < elem.length; i++) {
      if (elem[i] && typeof elem[i].addEventListener === 'function') {
        elem[i].addEventListener(type, callback);
      } else {
        console.error('Element is not valid or does not support addEventListener:', elem[i]);
      }
    }
  } else {
    if (typeof elem.addEventListener === 'function') {
      elem.addEventListener(type, callback);
    } else {
      console.error('Element is not valid or does not support addEventListener:', elem);
    }
  }
}

/**navbar- toggle */

const navTogglers = document.querySelectorAll("[data-nav-toggler]");
const navbar = document.querySelector("[data-navbar]");
const navbarLinks =document.querySelectorAll("data-nav-link")
const overlay = document.querySelector("[data-overlay]")

const toggleNavbar = function(){
  navbar.classList.toggle('active');
  overlay.classList.toggle('active');
}

addEventOnElem(navTogglers, "click", toggleNavbar)


const closeNavbar = function(){
   navbar.classList.remove('active')
   overlay.classList.remove('active')
}

addEventOnElem(navbarLinks, "click", closeNavbar)


/**
 * header-sticky
 */

const header = document.querySelector("[data-header]")
const backTopBtn = document.querySelector("[data-back-top-btn]")
const headerActive = function () {
  if (window.scrollY > 150) {
    header.classList.add("active");
    backTopBtn.classList.add("active");
  } else {
    header.classList.remove("active");
    backTopBtn.classList.remove("active");
  }
}

addEventOnElem(window, "scroll", headerActive)

let lastScrolledPos = 0;

const headerSticky = function() {
    if(lastScrolledPos >= window.scrollY){
        header.classList.remove("header-hide")
    }else {
        header.classList.add("header-hide")
    }
    lastScrolledPos = window.scrollY;
}

addEventOnElem(window, "scroll", headerSticky)



/**scroll reveal effect */

const sections = document.querySelectorAll("[data-section]")

const scrollReveal = function(){
  for (let i = 0; i < sections.length; i++) {
    if(sections[i].getBoundingClientRect().top < window.innerHeight/2){
      sections[i].classList.add("active")
    }
  }
}

scrollReveal();

addEventOnElem(window, "scroll", scrollReveal)






const addEventOnElements = function(elements, eventType, callback){
  for(let i = 0, len = elements.length; i< len; i++){
      elements[i].addEventListener(eventType, callback)
  }
}


/*HERO SLIDER*/
const heroSlider = document.querySelector('[data-hero-slider]')
const heroSliderItems = document.querySelectorAll("[data-hero-slider-item]")
const heroSliderPrevBtn = document.querySelector("[data-prev-btn]")
const heroSliderNextBtn = document.querySelector("[data-next-btn]")

let currentSlidePos = 0;
let lastActiveSliderItem = heroSliderItems[0];

const updateSliderPos = function(){
  lastActiveSliderItem.classList.remove('active');
  heroSliderItems[currentSlidePos].classList.add('active');
  lastActiveSliderItem = heroSliderItems[currentSlidePos]
}

const slideNext = function(){
  if(currentSlidePos >= heroSliderItems.length -1){
    currentSlidePos =0
  } else {
    currentSlidePos++
  }
 console.log("new")
  updateSliderPos()
}

const slidePrev = function(){
  if(currentSlidePos < 1){
    currentSlidePos = heroSliderItems.length -1
  }else{
    currentSlidePos--
  }
  updateSliderPos()
}

heroSliderPrevBtn.addEventListener("click", slidePrev)
heroSliderNextBtn.addEventListener("click", slideNext)
let autoSlideInterval;

const autoSlide = function(){
  autoSlideInterval = setInterval(function(){
    slideNext()
  }, 7000)
}

addEventOnElements([heroSliderNextBtn, heroSliderPrevBtn], 'mouseover', function(){
  clearInterval(autoSlideInterval)
})

addEventOnElements([heroSliderNextBtn, heroSliderPrevBtn], 'mouseout', autoSlide)

window.addEventListener("load", autoSlide)

const parallaxItems = document.querySelectorAll("[data-parallax-item]")

let x,y;

window.addEventListener('mousemove', function(event){
 
   x = (event.clientX / window.innerWidth * 10)-5;
   y = (event.clientY/ window.innerHeight * 10)-5

   //reverse the number eg. 20 -> -20, -5 -> 5

   x = x - (x * 2)
   y = y - (y * 2)


   for(let i = 0, len = parallaxItems.length; i < len; i++){
     x = x * Number(parallaxItems[i].dataset.parallaxSpeed)
     y = y * Number(parallaxItems[i].dataset.parallaxSpeed)
     parallaxItems[i].style.transform = `translate3d(${x}px, ${y}px, 0px)`
   }
})

</script>

{% schema %}
{
  "name": "hero",
  "settings":[
    {
      "type": "image_picker",
      "id": "image1",
      "label": "Image 1"
    },
    {
      "type": "image_picker",
      "id": "image2",
      "label": "Image 2"
    },
    {
      "type": "image_picker",
      "id": "image3",
      "label": "Image 3"
    },
    {
      "type": "text",
      "id": "title1",
      "label": "Title 1",
      "default": "Find the best"
    },
    {
      "type": "text",
      "id": "subtitle1",
      "label": "Subtitle 1",
      "default": "Classy Shoe"
    },
    {
      "type": "text",
      "id": "title2",
      "label": "Title 2",
      "default": "Find the best"
    },
    {
      "type": "text",
      "id": "subtitle2",
      "label": "Subtitle 2",
      "default": "Classy Shoe"
    },
    {
      "type": "text",
      "id": "title3",
      "label": "Title 3",
      "default": "Find the best"
    },
    {
      "type": "text",
      "id": "subtitle3",
      "label": "Subtitle 3",
      "default": "Classy Shoe"
    },
    {
      "type": "inline_richtext",
      "id": "description1",
      "label": "Description 1",
      "default": "Designed with clean, non-toxic materials, our shoes ensure style and comfort for everyone."
    },
    {
      "type": "inline_richtext",
      "id": "description2",
      "label": "Description 2",
      "default": "Designed with clean, non-toxic materials, our shoes ensure style and comfort for everyone."
    },
    {
      "type": "inline_richtext",
      "id": "description3",
      "label": "Description 3",
      "default": "Designed with clean, non-toxic materials, our shoes ensure style and comfort for everyone."
    },
    {
      "type":"text",
      "id":"price1",
      "label":"Price 1",
      "default":"$17.99"
    },
    {
      "type":"text",
      "id":"price2",
      "label":"Price 2",
      "default":"$17.99"
    },
    {
      "type":"text",
      "id":"price3",
      "label":"Price 3",
      "default":"$17.99"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Button Url"
    },
    {
      "type":"text",
      "id":"btn_label",
      "label":"Button Label",
      "default":"Shop Now"
    }
],
  "blocks": [],
  "presets": [
    {
      "name": "hero"
    }
  ]
}
{% endschema %}


